webpackJsonp([21],{224:function(e,s,t){t(585);var n=t(6)(t(470),t(697),null,null);e.exports=n.exports},263:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"loading",props:{loadingMsg:{required:!0}},data:function(){return{}}}},264:function(e,s,t){s=e.exports=t(204)(!0),s.push([e.i,".loading-warp{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:20px 0;font-size:14px;color:#7a7a7a}","",{version:3,sources:["/Users/work/Desktop/modules/src/components/commons/loading.vue"],names:[],mappings:"AACA,cACE,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,eAAgB,AAChB,eAAgB,AAChB,aAAe,CAChB",file:"loading.vue",sourcesContent:["\n.loading-warp {\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding: 20px 0;\n  font-size: 14px;\n  color: #7A7A7A;\n}\n"],sourceRoot:""}])},265:function(e,s,t){var n=t(264);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t(205)("9c4d80d2",n,!0)},266:function(e,s,t){e.exports=t.p+"static/img/default.dc42cbe.svg"},267:function(e,s,t){t(265);var n=t(6)(t(263),t(268),null,null);e.exports=n.exports},268:function(e,s,t){e.exports={render:function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("div",{staticClass:"loading-warp flex"},[n("img",{directives:[{name:"show",rawName:"v-show",value:e.loadingMsg.loadingStatus&&!e.loadingMsg.noteStatus,expression:"loadingMsg.loadingStatus && !loadingMsg.noteStatus"}],attrs:{src:t(266)}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingMsg.noteStatus,expression:"loadingMsg.noteStatus"}],staticClass:"text-center"},[e._v(e._s(e.loadingMsg.noteText))])])},staticRenderFns:[]}},470:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=t(66),a=t.n(n),i=t(267),r=t.n(i);s.default={name:"message-center",components:{loading:r.a,portrait:a.a},created:function(){this.resetFn()},data:function(){return{messageList:[],loadMessageSwitch:!1,curpage:1,curpagesize:10,messageStatus:!0,loading:{loadingStatus:!1,noteText:"You don't have any more message",noteStatus:!1}}},watch:{$route:"resetFn"},methods:{time:function(e){return{start:this.messageList[e].msg_time,end:this.messageList[e].time}},resetFn:function(){function e(e){s.$store.dispatch("messageListAc",e).then(function(e){200===e.code&&(s.messageStatus=!0,s.messageList=e.data.messages)})}var s=this;"all"==this.$route.params.id?e({page:this.curpage,pagesize:this.curpagesize,type:"all"}):e({page:this.curpage,pagesize:this.curpagesize,type:"system"})},readall:function(){var e={ids:[],type:"all"};this.$store.dispatch("messageReadingAc",e),this.messageList.forEach(function(e,s){e.msg_read=0})},removeAll:function(){var e=this;this.$alert({type:"confirm",message:"Delete all?",confirmTxt:"Yes",cancelTxt:"No"}).then(function(s){if("confirm"===s.data){var t={ids:[],type:"all"};e.$store.dispatch("messageDeleteAc",t),e.messageList.splice(0,e.messageList.length)}})},removeItem:function(e,s){var t=e.msg_id,n={ids:[t],type:"index"};this.$store.dispatch("messageDeleteAc",n),this.messageList.splice(s,1)},systemMsg:function(e,s){var t=e.msg_id,n={ids:[t],type:"no-all"};e.msg_read=0,this.$store.dispatch("messageReadingAc",n)},linkToPage:function(e,s){var t=e.msg_rid,n=e.msg_id,a={ids:[n],type:"no-all"};this.$store.dispatch("messageReadingAc",a),this.$router.push({name:"personalAbout",params:{id:t}})},linkToModel:function(e,s){var t=e.msg_id,n=e.msg_id,a={ids:[t],type:"no-all"};this.$store.dispatch("messageReadingAc",a),this.$router.push({name:"model-detail",params:{id:n}})},messageMore:function(){var e=this;this.curpage++;var s={userId:this.curpage,page:this.curpagesize,type:"system"};this.$store.dispatch("messageListAc",s).then(function(s){e.loading.loadingStatus=!0,200==s.code?e.messageList=e.messageList.concat(s.data.works):(e.loadMessageSwitch=!0,e.loading.loadingStatus=!1,e.loading.noteStatus=!0)})}}}},530:function(e,s,t){s=e.exports=t(204)(!0),s.push([e.i,'.message-center-warp>h1{margin-top:50px;font-size:30px;color:#515254;font-weight:400}.message-center-warp .message-operation{margin-top:58px;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.message-center-warp .message-operation button{height:32px;line-height:32px;font-size:12px;border-radius:100px;background-color:#f7f8fa}.message-center-warp .message-operation .all-read{width:115px;border:1px solid #4990e2;color:#4990e2;margin-right:20px}.message-center-warp .message-operation .remove{color:#95979a;width:78px;border:1px solid #95979a}.message-center-warp .message-center-list{margin-top:18px}.message-center-warp .message-center-list>li{background:#fff;border:1px solid #e0e0e0;border-radius:4px;padding:20px 22px 20px 30px;margin-bottom:30px;position:relative}.message-center-warp .message-center-list>li.new:before{content:"";display:block;position:absolute;left:10px;top:50%;width:6px;height:6px;margin-top:-3px;border-radius:100%;background-color:#4990e2}.message-center-warp .message-center-list>li .remove-msg{position:absolute;top:8px;right:8px;display:block;cursor:pointer;width:8px;height:8px;background:url('+t(207)+")}.message-center-warp .message-center-list>li .no-system-msg{cursor:pointer}.message-center-warp .message-center-list>li .no-system-msg>div{width:56px;height:56px;float:left}.message-center-warp .message-center-list>li .no-system-msg .name{line-height:56px;font-size:18px;color:#4990e2;margin-left:15px;float:left}.message-center-warp .message-center-list>li .no-system-msg .msg-content{font-size:18px;color:#7a7a7a;margin-left:30px;float:left;line-height:56px}.message-center-warp .message-center-list>li .no-system-msg .msg-date{float:right;font-size:14px;color:#bcc3c9;line-height:56px}.message-center-warp .message-center-list>li .system-msg{cursor:pointer}.message-center-warp .message-center-list>li .system-msg .name{float:left;font-size:18px;color:#515254}.message-center-warp .message-center-list>li .system-msg .msg-date{float:right;font-size:14px;color:#bcc3c9}.message-center-warp .message-center-list>li .system-msg>div{font-size:14px;color:#7a7a7a;width:100%;clear:both;padding-top:12px}.message-center-warp .nomore-message{font-size:18px;color:#7a7a7a;height:140px;line-height:140px}","",{version:3,sources:["/Users/work/Desktop/modules/src/pages/message/messageCenter.vue"],names:[],mappings:"AACA,wBACE,gBAAiB,AACjB,eAAgB,AAChB,cAAe,AACf,eAAoB,CACrB,AACD,wCACE,gBAAiB,AACjB,qBAAsB,AAClB,kBAAmB,AACf,wBAA0B,CACnC,AACD,+CACI,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,oBAAqB,AACrB,wBAA0B,CAC7B,AACD,kDACI,YAAa,AACb,yBAA0B,AAC1B,cAAe,AACf,iBAAmB,CACtB,AACD,gDACI,cAAe,AACf,WAAY,AACZ,wBAA0B,CAC7B,AACD,0CACE,eAAiB,CAClB,AACD,6CACI,gBAAoB,AACpB,yBAA0B,AAC1B,kBAAmB,AACnB,4BAA6B,AAC7B,mBAAoB,AACpB,iBAAmB,CACtB,AACD,wDACM,WAAY,AACZ,cAAe,AACf,kBAAmB,AACnB,UAAW,AACX,QAAS,AACT,UAAW,AACX,WAAY,AACZ,gBAAiB,AACjB,mBAAoB,AACpB,wBAA0B,CAC/B,AACD,yDACM,kBAAmB,AACnB,QAAS,AACT,UAAW,AAEX,cAAe,AACf,eAAgB,AAChB,UAAW,AACX,WAAY,AACZ,wCAAoD,CACzD,AACD,4DACM,cAAgB,CACrB,AACD,gEACQ,WAAY,AACZ,YAAa,AACb,UAAY,CACnB,AACD,kEACQ,iBAAkB,AAClB,eAAgB,AAChB,cAAe,AACf,iBAAkB,AAClB,UAAY,CACnB,AACD,yEACQ,eAAgB,AAChB,cAAe,AACf,iBAAkB,AAClB,WAAY,AACZ,gBAAkB,CACzB,AACD,sEACQ,YAAa,AACb,eAAgB,AAChB,cAAe,AACf,gBAAkB,CACzB,AACD,yDACM,cAAgB,CACrB,AACD,+DACQ,WAAY,AACZ,eAAgB,AAChB,aAAe,CACtB,AACD,mEACQ,YAAa,AACb,eAAgB,AAChB,aAAe,CACtB,AACD,6DACQ,eAAgB,AAChB,cAAe,AACf,WAAY,AACZ,WAAY,AACZ,gBAAkB,CACzB,AACD,qCACE,eAAgB,AAChB,cAAe,AACf,aAAc,AACd,iBAAmB,CACpB",file:"messageCenter.vue",sourcesContent:["\n.message-center-warp > h1 {\n  margin-top: 50px;\n  font-size: 30px;\n  color: #515254;\n  font-weight: normal;\n}\n.message-center-warp .message-operation {\n  margin-top: 58px;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n.message-center-warp .message-operation button {\n    height: 32px;\n    line-height: 32px;\n    font-size: 12px;\n    border-radius: 100px;\n    background-color: #F7F8FA;\n}\n.message-center-warp .message-operation .all-read {\n    width: 115px;\n    border: 1px solid #4990E2;\n    color: #4990E2;\n    margin-right: 20px;\n}\n.message-center-warp .message-operation .remove {\n    color: #95979A;\n    width: 78px;\n    border: 1px solid #95979A;\n}\n.message-center-warp .message-center-list {\n  margin-top: 18px;\n}\n.message-center-warp .message-center-list > li {\n    background: #FFFFFF;\n    border: 1px solid #E0E0E0;\n    border-radius: 4px;\n    padding: 20px 22px 20px 30px;\n    margin-bottom: 30px;\n    position: relative;\n}\n.message-center-warp .message-center-list > li.new:before {\n      content: '';\n      display: block;\n      position: absolute;\n      left: 10px;\n      top: 50%;\n      width: 6px;\n      height: 6px;\n      margin-top: -3px;\n      border-radius: 100%;\n      background-color: #4990E2;\n}\n.message-center-warp .message-center-list > li .remove-msg {\n      position: absolute;\n      top: 8px;\n      right: 8px;\n      cursor: pointer;\n      display: block;\n      cursor: pointer;\n      width: 8px;\n      height: 8px;\n      background: url(../../assets/images/remove-msg.png);\n}\n.message-center-warp .message-center-list > li .no-system-msg {\n      cursor: pointer;\n}\n.message-center-warp .message-center-list > li .no-system-msg > div {\n        width: 56px;\n        height: 56px;\n        float: left;\n}\n.message-center-warp .message-center-list > li .no-system-msg .name {\n        line-height: 56px;\n        font-size: 18px;\n        color: #4990E2;\n        margin-left: 15px;\n        float: left;\n}\n.message-center-warp .message-center-list > li .no-system-msg .msg-content {\n        font-size: 18px;\n        color: #7A7A7A;\n        margin-left: 30px;\n        float: left;\n        line-height: 56px;\n}\n.message-center-warp .message-center-list > li .no-system-msg .msg-date {\n        float: right;\n        font-size: 14px;\n        color: #BCC3C9;\n        line-height: 56px;\n}\n.message-center-warp .message-center-list > li .system-msg {\n      cursor: pointer;\n}\n.message-center-warp .message-center-list > li .system-msg .name {\n        float: left;\n        font-size: 18px;\n        color: #515254;\n}\n.message-center-warp .message-center-list > li .system-msg .msg-date {\n        float: right;\n        font-size: 14px;\n        color: #BCC3C9;\n}\n.message-center-warp .message-center-list > li .system-msg > div {\n        font-size: 14px;\n        color: #7A7A7A;\n        width: 100%;\n        clear: both;\n        padding-top: 12px;\n}\n.message-center-warp .nomore-message {\n  font-size: 18px;\n  color: #7A7A7A;\n  height: 140px;\n  line-height: 140px;\n}\n"],sourceRoot:""}])},585:function(e,s,t){var n=t(530);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t(205)("6748bf0d",n,!0)},697:function(e,s){e.exports={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",{staticClass:"main"},[t("div",{staticClass:"auto w-940 message-center-warp"},[t("h1",{staticClass:"text-center"},[e._v("Notification")]),e._v(" "),t("div",{staticClass:"message-operation flex"},[t("button",{staticClass:"btn all-read",on:{click:e.readall}},[e._v("Mark all as read")]),e._v(" "),t("button",{staticClass:"btn remove",on:{click:e.removeAll}},[e._v("Delete all")])]),e._v(" "),e.messageStatus?t("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.messageMore,expression:"messageMore"}],staticClass:"message-center-list",attrs:{id:"message-center-list","infinite-scroll-disabled":"loadMessageSwitch","infinite-scroll-distance":"50"}},e._l(e.messageList,function(s,n){return t("li",{class:{new:s.msg_read}},["C"===s.caction?[t("div",{staticClass:"system-msg",attrs:{"data-msgid":s.msg_id,"data-index":n},on:{click:function(t){e.systemMsg(s,n)}}},[t("p",{staticClass:"name"},[e._v("System message")]),e._v(" "),t("p",{staticClass:"msg-date"},[e._v(e._s(e._f("time")(e.time(n))))]),e._v(" "),t("div",[e._v(e._s(s.msg))])])]:"B"===s.caction?[t("div",{staticClass:"no-system-msg clearfix",attrs:{"data-msgid":s.msg_id,"data-linkid":s.msg_rid,"data-index":n},on:{click:function(t){e.linkToPage(s,n)}}},[t("div",[t("portrait",{attrs:{portraitUrl:s.from.avatar,type:s.from.user_type,width:16,height:16}})],1),e._v(" "),t("p",{staticClass:"name"},[e._v(e._s(s.from.username))]),e._v(" "),t("p",{staticClass:"msg-content"},[e._v(e._s(s.msg))]),e._v(" "),t("p",{staticClass:"msg-date"},[e._v(e._s(e._f("time")(e.time(n))))])])]:[t("div",{staticClass:"no-system-msg clearfix",attrs:{"data-msgid":s.msg_id,"data-linkid":s.msg_rid,"data-index":n},on:{click:function(t){e.linkToModel(s,n)}}},[t("div",[t("portrait",{attrs:{portraitUrl:s.from.avatar,type:s.from.user_type,width:16,height:16}})],1),e._v(" "),t("p",{staticClass:"name"},[e._v(e._s(s.from.username))]),e._v(" "),t("p",{staticClass:"msg-content"},[e._v(e._s(s.msg))]),e._v(" "),t("p",{staticClass:"msg-date"},[e._v(e._s(e._f("time")(e.time(n))))])])],e._v(" "),t("span",{staticClass:"remove-msg",on:{click:function(t){e.removeItem(s,n)}}})],2)})):t("div",{staticClass:"nomore-message text-center"},[e._v("\n            You don't have any notifications\n        ")]),e._v(" "),t("loading",{attrs:{loadingMsg:e.loading}})],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=21.24ea4837384e112a3055.js.map