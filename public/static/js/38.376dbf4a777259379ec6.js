webpackJsonp([38],{241:function(e,t,a){var s=a(6)(a(487),a(729),null,null);e.exports=s.exports},487:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(65);t.default={name:"personalEdit",data:function(){return{noteStatus:!1,vuerifyStr:"",headUrl:"",firstName:"",lastName:"",sex:"",description:"",workYear:"",job:"",country:"",homePage:"",fieldType:[],field:[]}},created:function(){this.$store.dispatch("fieldAc")},vuerify:{firstName:{test:"required",message:"Please type firstName"},lastName:{test:"required",message:"Please type lastName"},sex:{test:"required",message:"Please type Gender"},description:{test:"required",message:"Please type Brief introduction"},workYear:{test:"required",message:"Please type Working experience"},job:{test:"required",message:"Please type Job"},country:{test:"required",message:"Please type country"},homePage:{test:"required",message:"Please type Homepage"}},computed:{errors:function(){return this.$vuerify.$errors},invalid:function(){return this.$vuerify.invalid},userType:function(){return this.$store.state.user.userType},countryList:function(){return this.$store.state.dict.countryList}},mounted:function(){var e=this;this.$store.dispatch("countryAc").then(function(t){200===t.code&&e.$store.dispatch("getUserInfoAc").then(function(t){e.headUrl=t.data.user.avatar,e.firstName=t.data.user.firstname,e.lastName=t.data.user.lastname,e.sex=t.data.user.gender,e.description=t.data.user.user_description,e.workYear=t.data.user.work_exp.id,e.job=t.data.user.job.id,e.country=t.data.user.country.id,e.homePage=t.data.user.homepage,e.field=t.data.user.fields,e.$store.state.dict.fieldList.forEach(function(t,a){e.fieldType.push(t)}),e.fieldType.forEach(function(t,a){e.field.forEach(function(e){t.id===parseInt(e)&&(t.status=!0)})})})})},methods:{saveEdit:function(){var e=this;if(this.$vuerify.check())if(0==this.field.length)this.vuerifyStr="Please pick 1-3 which you are interested in",this.noteStatus=!0,setTimeout(function(){e.noteStatus=!1},1500);else{var t={firstname:this.firstName,lastname:this.lastName,gender:parseInt(this.sex),country:this.country,job:this.job,work_exp:this.workYear,homeid:this.homePage,fileds:this.field,description:this.description};this.$store.dispatch("userEdit",t).then(function(t){e.vuerifyStr=t.msg,e.noteStatus=!0,setTimeout(function(){if(e.noteStatus=!1,200===t.code){var a=e.$route.params.id;e.$store.dispatch("pageUsersAc",a),e.$router.push({name:"personalAbout",params:{id:a}})}},1e3)})}else{var a=this.$vuerify.$errors,s=[];for(var i in a)s.push(a[i]);this.vuerifyStr=s[0],this.noteStatus=!0,setTimeout(function(){e.noteStatus=!1},1500)}},filedResult:function(e){var t=this,a=document.querySelectorAll("#pro-field span"),s=e.target.tagName.toLowerCase(),i=0,r=[];"span"===s&&("active"===e.target.className?e.target.className="":e.target.className="active",a.forEach(function(e,t){"active"==e.className&&i++}),i>3?(this.vuerifyStr="Pick 3 of your most skilled or interested model categories",this.noteStatus=!0,setTimeout(function(){t.noteStatus=!1},1500),e.target.className=""):(r.splice(r,r.length),a.forEach(function(e,t){"active"==e.className&&r.push(e.getAttribute("data-value"))}),this.field=r))},tirggerFile:function(e){var t=this,a=this,s=e.target.files[0],i=new FileReader;/image\/\w+/.test(s.type)?(i.addEventListener("load",function(){a.headUrl=i.result;var e={pic:a.headUrl,ext:s.type};a.$store.dispatch("editHeadPortraitAc",e).then(function(e){})},!1),i.readAsDataURL(s)):(this.vuerifyStr="please upload images",this.noteStatus=!0,setTimeout(function(){t.noteStatus=!1},1500))}}}},729:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"edit-container"},[s("form",{on:{submit:function(t){t.preventDefault(),e.saveEdit(t)}}},[e._m(0),e._v(" "),s("div",{staticClass:"padding-box clearfix"},[s("div",{staticClass:"head-portrait float-left position-relative"},[s("div",[s("img",{staticClass:"img-max",attrs:{src:e.headUrl}}),e._v(" "),s("div",{staticClass:"file-warp"},[s("input",{attrs:{type:"file"},on:{change:function(t){e.tirggerFile(t)}}}),e._v("\n                        Edit\n                    ")])]),e._v(" "),3===e.userType?s("img",{staticClass:"user-status",attrs:{src:a(69)}}):e._e()]),e._v(" "),s("div",{staticClass:"fist-name float-left"},[s("p",{staticClass:"tag-title"},[e._v("First Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],attrs:{type:"text"},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"last-name float-left"},[s("p",{staticClass:"tag-title"},[e._v("Last Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],attrs:{type:"text"},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"sex float-left"},[s("p",{staticClass:"tag-title"},[e._v("Gender")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.sex=t.target.multiple?a:a[0]}}},[s("option",{attrs:{value:"1"}},[e._v("Male")]),e._v(" "),s("option",{attrs:{value:"2"}},[e._v("Female")]),e._v(" "),s("option",{attrs:{value:"0"}},[e._v("Itâ€™s private")])])])]),e._v(" "),s("div",{staticClass:"padding-box"},[s("p",{staticClass:"tag-title"},[e._v("Brief introduction")]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],attrs:{placeholder:"Say something about your , don't be shy!"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"padding-box work-msg"},[s("ul",{staticClass:"flex"},[s("li",[s("p",{staticClass:"tag-title"},[e._v("Working experience")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.workYear,expression:"workYear"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.workYear=t.target.multiple?a:a[0]}}},[s("option",{attrs:{value:"1"}},[e._v("1-3 year")]),e._v(" "),s("option",{attrs:{value:"2"}},[e._v("3-5 year")]),e._v(" "),s("option",{attrs:{value:"3"}},[e._v("more than 5 year")])])]),e._v(" "),s("li",[s("p",{staticClass:"tag-title"},[e._v("Job")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.job,expression:"job"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.job=t.target.multiple?a:a[0]}}},[s("option",{attrs:{value:"1"}},[e._v("Designer")]),e._v(" "),s("option",{attrs:{value:"2"}},[e._v("Modeler")]),e._v(" "),s("option",{attrs:{value:"3"}},[e._v("Developer")]),e._v(" "),s("option",{attrs:{value:"4"}},[e._v("Product manager")]),e._v(" "),s("option",{attrs:{value:"5"}},[e._v("Project manager")]),e._v(" "),s("option",{attrs:{value:"6"}},[e._v("Other")])])])]),e._v(" "),s("ul",{staticClass:"flex",staticStyle:{"margin-top":"28px"}},[s("li",[s("p",{staticClass:"tag-title"},[e._v("Country")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.country,expression:"country"}],staticClass:"personal-country",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.country=t.target.multiple?a:a[0]}}},e._l(e.countryList,function(t){return s("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])}))]),e._v(" "),s("li",[s("p",{staticClass:"tag-title"},[e._v("Homepage")]),e._v("\n                    https://www.novaby.com/homepage/\n                    "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.homePage,expression:"homePage"}],staticClass:"personal-homepage",attrs:{type:"text"},domProps:{value:e.homePage},on:{input:function(t){t.target.composing||(e.homePage=t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"padding-box"},[s("p",{staticClass:"tag-title"},[e._v("Please pick 3 specialities")]),e._v(" "),s("div",{staticClass:"pro-field",attrs:{id:"pro-field"},on:{click:function(t){e.filedResult(t)}}},e._l(e.fieldType,function(t){return s("span",{class:{active:t.status},attrs:{"data-value":t.id}},[e._v(e._s(t.name))])}))])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.noteStatus,expression:"noteStatus"}],staticClass:"form-note"},[e._v(e._s(e.vuerifyStr))])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"text-right"},[a("button",{staticClass:"save-btn btn-default btn",attrs:{type:"submit"}},[e._v("Save")])])}]}}});
//# sourceMappingURL=38.376dbf4a777259379ec6.js.map